import streamlit as st
import cv2
import numpy as np
import tensorflow as tf
from PIL import Image
import os

# --- 1. Config ‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡πÅ‡∏≠‡∏õ (‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÅ‡∏£‡∏Å‡πÜ) ---
st.set_page_config(
    page_title="Pinworm Disease Diagnosis App",
    layout="wide",
    initial_sidebar_state="expanded"
)

# ==========================================
# ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 1: ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö AI ‡πÅ‡∏•‡∏∞ Model
# ==========================================

@st.cache_resource()
def load_model():
    model_path = 'ev_cnn_mobile.keras'
    try:
        model = tf.keras.models.load_model(model_path, custom_objects={'mse': tf.keras.losses.MeanSquaredError()})
        return model
    except FileNotFoundError:
        return None
    except Exception as e:
        return None

model = load_model()
class_label = ["Artifact", "Ev eggs"]

def drawbox(img, label, a, b, c, d, color):
    image = cv2.rectangle(img, (c, a), (d, b), color, 3)
    image = cv2.putText(image, label, (c, a - 10), cv2.FONT_HERSHEY_TRIPLEX, 3, color, 3)
    return image

def compute_iou(box1, box2):
    y1 = max(box1[0], box2[0])
    y2 = min(box1[1], box2[1])
    x1 = max(box1[2], box2[2])
    x2 = min(box1[3], box2[3])
    inter_w = max(0, x2 - x1)
    inter_h = max(0, y2 - y1)
    inter_area = inter_w * inter_h
    box1_area = (box1[1] - box1[0]) * (box1[3] - box1[2])
    box2_area = (box2[1] - box2[0]) * (box2[3] - box2[2])
    union_area = box1_area + box2_area - inter_area
    if union_area == 0: return 0
    return inter_area / union_area

def nms(detections, iou_threshold):
    nms_dets = []
    if not detections: return []
    class_indices = set([d['class_idx'] for d in detections])
    for class_idx in class_indices:
        class_dets = [d for d in detections if d['class_idx'] == class_idx]
        class_dets = sorted(class_dets, key=lambda x: x['score'], reverse=True)
        keep = []
        while class_dets:
            curr = class_dets.pop(0)
            keep.append(curr)
            class_dets = [d for d in class_dets if compute_iou(curr['bbox'], d['bbox']) < iou_threshold]
        nms_dets.extend(keep)
    return nms_dets

def merge_connected_boxes_by_class(detections, merge_iou_threshold):
    merged = []
    if not detections: return []
    class_indices = set([d['class_idx'] for d in detections])
    for class_idx in class_indices:
        class_dets = [d for d in detections if d['class_idx'] == class_idx]
        used = set()
        groups = []
        for i, det in enumerate(class_dets):
            if i in used: continue
            group = [det]
            used.add(i)
            changed = True
            while changed:
                changed = False
                newly_added = []
                for j, other in enumerate(class_dets):
                    if j in used: continue
                    if any(compute_iou(d['bbox'], other['bbox']) > merge_iou_threshold for d in group):
                        newly_added.append((j, other))
                if newly_added:
                    for j, other in newly_added:
                        group.append(other)
                        used.add(j)
                    changed = True
            groups.append(group)
        for group in groups:
            tops = [d['bbox'][0] for d in group]
            bottoms = [d['bbox'][1] for d in group]
            lefts = [d['bbox'][2] for d in group]
            rights = [d['bbox'][3] for d in group]
            merged_box = [min(tops), max(bottoms), min(lefts), max(rights)]
            max_score = max(d['score'] for d in group)
            merged.append({"bbox": merged_box, "class_idx": class_idx, "score": max_score})
    return merged

def ObjectDet(img, threshold, nms_threshold, merge_iou_threshold):
    box_size_y, box_size_x, step_size = 500, 500, 50
    resize_input_y, resize_input_x = 64, 64
    img_h, img_w = img.shape[:2]
    coords = []
    patches = []
    
    for i in range(0, img_h - box_size_y + 1, step_size):
        for j in range(0, img_w - box_size_x + 1, step_size):
            img_patch = img[i:i+box_size_y, j:j+box_size_x]
            brightness = np.mean(cv2.cvtColor(img_patch, cv2.COLOR_BGR2GRAY))
            if brightness < 50: continue
            img_patch_resized = cv2.resize(img_patch, (resize_input_y, resize_input_x), interpolation=cv2.INTER_AREA)
            patches.append(img_patch_resized)
            coords.append((i, j))

    if not patches: return img
    patches = np.array(patches)
    if model is None: return img
        
    y_out = model.predict(patches, batch_size=64, verbose=0)
    detections = []
    for idx, pred in enumerate(y_out):
        for class_idx in range(len(class_label)):
            score = pred[class_idx]
            if score > threshold and class_idx != 0:
                a, c = coords[idx]
                b, d = a + box_size_y, c + box_size_x
                detections.append({"bbox": [a, b, c, d], "score": float(score), "class_idx": class_idx})

    nms_detections = nms(detections, iou_threshold=nms_threshold)
    if merge_iou_threshold is not None and merge_iou_threshold > 0:
        final_detections = merge_connected_boxes_by_class(nms_detections, merge_iou_threshold=merge_iou_threshold)
    else:
        final_detections = nms_detections

    img_output = img.copy()
    colors = [(0,255,0), (255,0,0)] 
    for det in final_detections:
        a, b, c, d = det['bbox']
        class_idx = det['class_idx']
        label = f"{class_label[class_idx]}: {det['score']:.2f}"
        color = colors[class_idx % len(colors)]
        img_output = drawbox(img_output, label, a, b, c, d, color)
    return img_output

# ==========================================
# ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏´‡∏ô‡πâ‡∏≤ (Page Functions)
# ==========================================

# 1. ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏´‡∏ô‡πâ‡∏≤ Homepage
# ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô page_home

def page_home():
    # ‡∏à‡∏±‡∏î Layout ‡πÉ‡∏´‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏∂‡πà‡∏á‡∏Å‡∏•‡∏≤‡∏á (‡πÄ‡∏ß‡πâ‡∏ô‡∏ã‡πâ‡∏≤‡∏¢‡∏Ç‡∏ß‡∏≤‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏•‡∏∞ 1 ‡∏™‡πà‡∏ß‡∏ô ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ï‡∏£‡∏á‡∏Å‡∏•‡∏≤‡∏á 2 ‡∏™‡πà‡∏ß‡∏ô)
    col1, main_col, col3 = st.columns([1, 6, 1])

    with main_col:
        # --- ‡∏™‡πà‡∏ß‡∏ô‡∏´‡∏±‡∏ß‡πÅ‡∏•‡∏∞‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û ---
        st.markdown("<h1 style='text-align: center;'>üî¨ Pinworm Disease Diagnosis App</h1>", unsafe_allow_html=True)
        st.markdown("<p style='text-align: center; color: gray;'>‡∏£‡∏∞‡∏ö‡∏ö‡∏ä‡πà‡∏ß‡∏¢‡∏Ñ‡∏±‡∏î‡∏Å‡∏£‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡πÉ‡∏´‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡πÇ‡∏£‡∏Ñ‡∏û‡∏¢‡∏≤‡∏ò‡∏¥‡πÄ‡∏Ç‡πá‡∏°‡∏´‡∏°‡∏∏‡∏î‡∏î‡πâ‡∏ß‡∏¢ AI</p>", unsafe_allow_html=True)
        st.image("Gemini_Generated_Image_i4nkkdi4nkkdi4nk.png", use_column_width=True)
        
        #st.divider() # ‡πÄ‡∏™‡πâ‡∏ô‡∏Ç‡∏µ‡∏î‡∏Ñ‡∏±‡πà‡∏ô
        #st.subheader("‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÄ‡∏°‡∏ô‡∏π‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô")
        #st.image("Gemini_Generated_Image_2xhw452xhw452xhw.png")
        #st.write(" ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏°‡∏ô‡∏π‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÅ‡∏ñ‡∏ö‡∏ó‡∏≤‡∏á‡∏î‡πâ‡∏≤‡∏¢‡∏ã‡πâ‡∏≤‡∏¢‡∏°‡∏∑‡∏≠ ‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢ :blue-background[‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å] ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô :blue-background[‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÇ‡∏£‡∏Ñ‡∏û‡∏¢‡∏≤‡∏ò‡∏¥‡πÄ‡∏Ç‡πá‡∏°‡∏´‡∏°‡∏∏‡∏î] ‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ ‡∏≠‡∏≤‡∏Å‡∏≤‡∏£ ‡∏Å‡∏≤‡∏£‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏Å‡∏©‡∏≤ :blue-background[‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•] ‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢ AI detection ‡πÅ‡∏•‡∏∞ Dataset  ")

        st.divider() # ‡πÄ‡∏™‡πâ‡∏ô‡∏Ç‡∏µ‡∏î‡∏Ñ‡∏±‡πà‡∏ô

        # --- ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 2: How it works (‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏á‡πà‡∏≤‡∏¢‡πÜ) ---
        st.subheader("üí° ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô")
        step1, step2, step3 = st.columns(3)
        with step1:
            st.markdown("**1. ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏†‡∏≤‡∏û**")
            st.caption("‡∏ñ‡πà‡∏≤‡∏¢‡∏†‡∏≤‡∏û‡πÑ‡∏Ç‡πà‡∏û‡∏¢‡∏≤‡∏ò‡∏¥‡∏†‡∏≤‡∏¢‡πÉ‡∏ï‡πâ‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏à‡∏∏‡∏•‡∏ó‡∏£‡∏£‡∏®‡∏ô‡πå")
            st.image("Gemini_Generated_Image_r8j3mcr8j3mcr8j3.png", use_column_width=True)
        with step2:
            st.markdown("**2. ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î**")
            st.caption("‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÄ‡∏°‡∏ô‡∏π AI Detection ‡πÅ‡∏•‡∏∞‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏£‡∏π‡∏õ         ")
            st.image("unnamed.png", use_column_width=True)
        with step3:
            st.markdown("**3. ‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå**")
            st.caption("AI ‡∏à‡∏∞‡∏£‡∏∞‡∏ö‡∏∏‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÑ‡∏Ç‡πà‡∏û‡∏¢‡∏≤‡∏ò‡∏¥‡πÉ‡∏ô‡∏†‡∏≤‡∏û‡∏ñ‡πà‡∏≤‡∏¢")
            st.image("‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏Ç‡πà‡∏û‡∏¢‡∏≤‡∏ò‡∏¥.png", use_column_width=True)

        st.divider()

        # --- ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 3: ‡∏õ‡∏∏‡πà‡∏°‡∏ó‡∏≤‡∏á‡∏•‡∏±‡∏î (Call to Action) ---
        # ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡∏õ‡∏∏‡πà‡∏° switch_page ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏Ñ‡∏π‡πà‡∏Å‡∏±‡∏ö st.navigation ‡∏´‡∏£‡∏∑‡∏≠ setup ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
        # ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡∏ó‡∏≥‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏¥‡πâ‡∏á‡∏Ñ‡πå‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ä‡∏¥‡∏ç‡∏ä‡∏ß‡∏ô‡πÅ‡∏ó‡∏ô
        st.info("üëâ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏ä‡πà‡πÑ‡∏´‡∏°? ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÄ‡∏°‡∏ô‡∏π‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏™‡∏ô‡πÉ‡∏à‡∏ó‡∏≤‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏ã‡πâ‡∏≤‡∏¢‡∏°‡∏∑‡∏≠ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å **'‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÇ‡∏£‡∏Ñ'** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÇ‡∏£‡∏Ñ‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å **'AI Detection'** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå")
    
        # --- ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 1: Medical Disclaimer (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å!) ---
        st.warning("""
        **‚ö†Ô∏è ‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô:** ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏à‡∏≤‡∏Å AI ‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£ **‡∏Ñ‡∏±‡∏î‡∏Å‡∏£‡∏≠‡∏á‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô** ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡πÅ‡∏ó‡∏ô‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏ô‡∏¥‡∏à‡∏â‡∏±‡∏¢‡πÇ‡∏î‡∏¢‡πÅ‡∏û‡∏ó‡∏¢‡πå‡∏´‡∏£‡∏∑‡∏≠‡∏ô‡∏±‡∏Å‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏Å‡∏≤‡∏£‡πÅ‡∏û‡∏ó‡∏¢‡πå‡πÑ‡∏î‡πâ 
        ‡∏´‡∏≤‡∏Å‡∏°‡∏µ‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥ ‡∏Ñ‡∏ß‡∏£‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡πÅ‡∏û‡∏ó‡∏¢‡πå‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
        """)
        st.divider()
        st.subheader("‡∏ú‡∏π‡πâ‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô")
        with st.container(border=True):
            st.write(""" * ‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô‡∏Ç‡∏≠‡∏á‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏à‡∏≤‡∏Å‡∏ó‡∏∏‡∏ô‡∏™‡πà‡∏á‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡∏®‡∏±‡∏Å‡∏¢‡∏†‡∏≤‡∏û‡∏™‡∏π‡∏á ‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏õ‡∏µ 2567 (‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà N42A670561)""")
            st.write(""" * ‡∏ó‡∏∏‡∏ô‡∏à‡∏≤‡∏Å‡∏ö‡∏±‡∏ì‡∏ë‡∏¥‡∏ï‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢ ‡∏°‡∏´‡∏≤‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢‡∏ß‡∏•‡∏±‡∏¢‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå""")


# 2. ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏¢‡πà‡∏≠‡∏¢
def content_general_info():
    st.markdown("""
    **‡πÇ‡∏£‡∏Ñ‡∏û‡∏¢‡∏≤‡∏ò‡∏¥‡πÄ‡∏Ç‡πá‡∏°‡∏´‡∏°‡∏∏‡∏î (enterobiasis) ‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡∏û‡∏¢‡∏≤‡∏ò‡∏¥‡πÄ‡∏Ç‡πá‡∏°‡∏´‡∏°‡∏∏‡∏î (_Enterobius vermicularis_)** ‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏¢‡∏≤‡∏ò‡∏¥‡∏ï‡∏±‡∏ß‡∏Å‡∏•‡∏°‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏•‡πá‡∏Å ‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß ‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢‡πÄ‡∏™‡πâ‡∏ô‡∏î‡πâ‡∏≤‡∏¢ ‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢‡πÉ‡∏ô‡πÄ‡∏î‡πá‡∏Å‡∏ó‡∏±‡πà‡∏ß‡πÇ‡∏•‡∏Å 
    ‡πÇ‡∏î‡∏¢‡∏û‡∏¢‡∏≤‡∏ò‡∏¥‡∏ï‡∏±‡∏ß‡πÄ‡∏°‡∏µ‡∏¢‡∏à‡∏∞‡∏≠‡∏≤‡∏®‡∏±‡∏¢‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏•‡∏≥‡πÑ‡∏™‡πâ‡πÉ‡∏´‡∏ç‡πà ‡πÅ‡∏•‡∏∞‡∏à‡∏∞‡∏Ñ‡∏•‡∏≤‡∏ô‡∏≠‡∏≠‡∏Å‡∏°‡∏≤‡∏ß‡∏≤‡∏á‡πÑ‡∏Ç‡πà‡∏£‡∏≠‡∏ö‡πÜ ‡∏ó‡∏ß‡∏≤‡∏£‡∏´‡∏ô‡∏±‡∏Å‡πÉ‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏∑‡∏ô ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏Ñ‡∏±‡∏ô‡∏ö‡∏£‡∏¥‡πÄ‡∏ß‡∏ì‡∏ó‡∏ß‡∏≤‡∏£‡∏´‡∏ô‡∏±‡∏Å ‡∏ã‡∏∂‡πà‡∏á‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏≠‡∏¢‡∏π‡πà‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠ 
    ‡πÅ‡∏•‡∏∞‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ï‡∏¥‡∏î‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡πÅ‡∏•‡πâ‡∏ß‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏£‡∏±‡∏Å‡∏©‡∏≤‡πÉ‡∏´‡πâ‡∏´‡∏≤‡∏¢‡πÑ‡∏î‡πâ""")
    st.divider()    
    
    st.header(":blue-background[Morphology]")
 
    st.subheader("_Enterobius vermicularis_ egg")
    st.image('https://www.medical-labs.net/wp-content/uploads/2014/03/Eggs-of-E.-vermicularis-in-a-wet-mount.jpg')
    st.caption("(Centers for Disease Control and Prevention [CDC], 2024)")
    st.write("""
    * ‡πÑ‡∏Ç‡πà‡∏Ç‡∏≠‡∏á‡∏û‡∏¢‡∏≤‡∏ò‡∏¥‡πÄ‡∏Ç‡πá‡∏°‡∏´‡∏°‡∏∏‡∏î ‡∏£‡∏π‡∏õ‡∏£‡πà‡∏≤‡∏á‡∏£‡∏µ ‡πÅ‡∏•‡∏∞‡πÅ‡∏ö‡∏ô‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢‡∏ó‡∏µ‡πà‡∏î‡πâ‡∏≤‡∏ô‡∏´‡∏ô‡∏∂‡πà‡∏á ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ß‡πà‡∏≤ **D shape** 
    * ‡∏°‡∏µ‡∏Ç‡∏ô‡∏≤‡∏î 50-60 ‡πÑ‡∏°‡πÇ‡∏Ñ‡∏£‡πÄ‡∏°‡∏ï‡∏£ ‡∏Ñ‡∏π‡∏ì 20-30 ‡πÑ‡∏°‡πÇ‡∏Ñ‡∏£‡πÄ‡∏°‡∏ï‡∏£ 
    * ‡πÑ‡∏Ç‡πà‡∏°‡∏µ‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡πÇ‡∏õ‡∏£‡πà‡∏á‡πÉ‡∏™ 
  """)
    st.subheader("_Enterobius vermicularis_ adult worms")
    st.caption("‡∏û‡∏¢‡∏≤‡∏ò‡∏¥‡πÄ‡∏Ç‡πá‡∏°‡∏´‡∏°‡∏∏‡∏î‡∏ï‡∏±‡∏ß‡πÄ‡∏ï‡πá‡∏°‡∏ß‡∏±‡∏¢") 
    step1, step2, step3 = st.columns(3)
    with step1:
        st.image('https://ars.els-cdn.com/content/image/3-s2.0-B9780124159150000169-f16-20-9780124159150.gif')
        st.caption("(Human Parasitology (Fourth Edition), 2013)")
    with step2:
        st.markdown("### (a) Adult male of _E. vermicularis_")
        st.caption("‡∏û‡∏¢‡∏≤‡∏ò‡∏¥‡πÄ‡∏Ç‡πá‡∏°‡∏´‡∏°‡∏∏‡∏î‡∏ï‡∏±‡∏ß‡πÄ‡∏ï‡πá‡∏°‡∏ß‡∏±‡∏¢ (‡πÄ‡∏û‡∏®‡∏ú‡∏π‡πâ)")
        st.write("""
    * ‡∏ï‡∏±‡∏ß‡πÄ‡∏ï‡πá‡∏°‡∏ß‡∏±‡∏¢‡πÄ‡∏û‡∏®‡∏ú‡∏π‡πâ ‡∏°‡∏µ‡∏Ç‡∏ô‡∏≤‡∏î‡∏¢‡∏≤‡∏ß‡∏ñ‡∏∂‡∏á 2.5 ‡∏°‡∏¥‡∏•‡∏•‡∏¥‡πÄ‡∏°‡∏ï‡∏£ ‡∏Å‡∏ß‡πâ‡∏≤‡∏á 0.1-0.2 ‡∏°‡∏¥‡∏•‡∏•‡∏¥‡πÄ‡∏°‡∏ï‡∏£ 
    * ‡∏ï‡∏±‡∏ß‡∏ú‡∏π‡πâ‡∏°‡∏µ‡∏õ‡∏•‡∏≤‡∏¢‡∏™‡πà‡∏ß‡∏ô‡∏ó‡πâ‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏ó‡∏π‡πà ‡πÇ‡∏î‡∏¢‡∏°‡∏µ‡∏´‡∏ô‡∏≤‡∏°‡πÄ‡∏î‡∏µ‡πà‡∏¢‡∏ß (spicule) ‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏≠‡∏±‡∏ô
    * ‡∏ö‡∏£‡∏¥‡πÄ‡∏ß‡∏ì‡∏´‡∏±‡∏ß‡∏°‡∏µ cephalic expansions
  """)
        
    with step3:
        st.markdown("### (b) Adult female of _E. vermicularis_")
        st.caption("‡∏û‡∏¢‡∏≤‡∏ò‡∏¥‡πÄ‡∏Ç‡πá‡∏°‡∏´‡∏°‡∏∏‡∏î‡∏ï‡∏±‡∏ß‡πÄ‡∏ï‡πá‡∏°‡∏ß‡∏±‡∏¢ (‡πÄ‡∏û‡∏®‡πÄ‡∏°‡∏µ‡∏¢)")
        st.write(""" 
    * ‡∏ï‡∏±‡∏ß‡πÄ‡∏ï‡πá‡∏°‡∏ß‡∏±‡∏¢‡πÄ‡∏û‡∏®‡πÄ‡∏°‡∏µ‡∏¢ ‡∏°‡∏µ‡∏Ç‡∏ô‡∏≤‡∏î‡∏¢‡∏≤‡∏ß 8-13 ‡∏°‡∏¥‡∏•‡∏•‡∏¥‡πÄ‡∏°‡∏ï‡∏£ ‡∏Å‡∏ß‡πâ‡∏≤‡∏á 0.3-0.5 ‡∏°‡∏¥‡∏•‡∏•‡∏¥‡πÄ‡∏°‡∏ï‡∏£  
    * ‡∏ï‡∏±‡∏ß‡πÄ‡∏°‡∏µ‡∏¢‡∏°‡∏µ‡∏´‡∏≤‡∏á‡∏¢‡∏≤‡∏ß‡πÅ‡∏´‡∏•‡∏° 
    * ‡∏ö‡∏£‡∏¥‡πÄ‡∏ß‡∏ì‡∏´‡∏±‡∏ß‡∏°‡∏µ cephalic expansions
  """)
    
    st.divider()
    
    st.header(":blue-background[Geographical Distribution]")
    st.image('‡πÄ‡∏î‡πá‡∏Å‡∏ß‡∏±‡∏¢‡πÄ‡∏£‡∏µ‡∏¢‡∏ô.png', width = 500)
    st.write("""
  ‡∏û‡∏¢‡∏≤‡∏ò‡∏¥‡πÄ‡∏Ç‡πá‡∏°‡∏´‡∏°‡∏∏‡∏î‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏û‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡πÑ‡∏î‡πâ‡∏ó‡∏±‡πà‡∏ß‡πÇ‡∏•‡∏Å ‡πÅ‡∏ï‡πà‡∏°‡∏±‡∏Å‡∏û‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡∏ö‡πà‡∏≠‡∏¢‡πÉ‡∏ô‡πÄ‡∏î‡πá‡∏Å‡∏ß‡∏±‡∏¢‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏î‡πá‡∏Å‡∏Å‡πà‡∏≠‡∏ô‡∏ß‡∏±‡∏¢‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‡πÅ‡∏•‡∏∞‡πÉ‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏™‡∏∏‡∏Ç‡∏≠‡∏ô‡∏≤‡∏°‡∏±‡∏¢‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏î‡∏µ‡πÅ‡∏•‡∏∞‡∏™‡∏†‡∏≤‡∏û‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°‡∏ó‡∏µ‡πà‡πÅ‡∏≠‡∏≠‡∏±‡∏î
  ‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏î‡πâ‡∏ß‡∏¢‡πÉ‡∏ô‡∏ö‡∏≤‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡∏Ç‡∏≤‡∏î‡πÅ‡∏Ñ‡∏•‡∏ô‡∏ö‡∏∏‡∏Ñ‡∏•‡∏≤‡∏Å‡∏£‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏û‡∏ó‡∏¢‡πå ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏î‡πá‡∏Å‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏Å‡∏©‡∏≤‡πÑ‡∏î‡πâ‡πÑ‡∏°‡πà‡∏ó‡∏±‡πà‡∏ß‡∏ñ‡∏∂‡∏á
  """)
    
    st.divider()
    
    st.header(":blue-background[Life cycle]")
    st.image("https://www.cdc.gov/dpdx/enterobiasis/modules/Enterobius_LifeCycl_lg.jpg" )
    st.caption("(CDC, 2024)")
    st.markdown("""
    ‡∏´‡∏ô‡∏≠‡∏ô‡∏û‡∏¢‡∏≤‡∏ò‡∏¥‡πÄ‡∏Ç‡πá‡∏°‡∏´‡∏°‡∏∏‡∏î‡∏ï‡∏±‡∏ß‡πÄ‡∏°‡∏µ‡∏¢‡∏ó‡∏µ‡πà‡πÇ‡∏ï‡πÄ‡∏ï‡πá‡∏°‡∏ß‡∏±‡∏¢‡∏à‡∏∞‡∏≠‡∏≠‡∏Å‡∏°‡∏≤‡∏ß‡∏≤‡∏á‡πÑ‡∏Ç‡πà‡∏ö‡∏ô‡∏£‡∏≠‡∏¢‡∏û‡∏±‡∏ö‡∏ú‡∏¥‡∏ß‡∏´‡∏ô‡∏±‡∏á‡∏£‡∏≠‡∏ö‡∏ó‡∏ß‡∏≤‡∏£‡∏´‡∏ô‡∏±‡∏Å ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏Ñ‡∏±‡∏ô‡∏ö‡∏£‡∏¥‡πÄ‡∏ß‡∏ì‡∏ó‡∏ß‡∏≤‡∏£‡∏´‡∏ô‡∏±‡∏Å‡πÄ‡∏ß‡∏•‡∏≤‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏∑‡∏ô
    ‡∏ã‡∏∂‡πà‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡πÄ‡∏Å‡∏¥‡∏î‡πÑ‡∏î‡πâ‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ ‡∏Å‡∏≤‡∏£‡∏Å‡∏•‡∏∑‡∏ô‡∏Å‡∏¥‡∏ô‡πÑ‡∏Ç‡πà‡∏û‡∏¢‡∏≤‡∏ò‡∏¥‡πÄ‡∏Ç‡πâ‡∏≤‡∏õ‡∏≤‡∏Å‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏∑‡∏≠‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏≤‡∏ö‡∏£‡∏¥‡πÄ‡∏ß‡∏ì‡∏£‡∏≠‡∏ö‡∏ó‡∏ß‡∏≤‡∏£‡∏´‡∏ô‡∏±‡∏Å‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏õ‡∏´‡∏¢‡∏¥‡∏ö‡∏à‡∏±‡∏ö‡∏≠‡∏≤‡∏´‡∏≤‡∏£ ‡∏´‡∏£‡∏∑‡∏≠‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™‡∏Å‡∏±‡∏ö‡πÑ‡∏Ç‡πà‡πÉ‡∏ô‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°‡∏ó‡∏µ‡πà‡∏õ‡∏ô‡πÄ‡∏õ‡∏∑‡πâ‡∏≠‡∏ô 
    (‡πÄ‡∏ä‡πà‡∏ô ‡∏û‡∏∑‡πâ‡∏ô‡∏ú‡∏¥‡∏ß‡∏ó‡∏µ‡πà‡∏õ‡∏ô‡πÄ‡∏õ‡∏∑‡πâ‡∏≠‡∏ô ‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤ ‡∏ú‡πâ‡∏≤‡∏õ‡∏π‡∏ó‡∏µ‡πà‡∏ô‡∏≠‡∏ô ‡∏Ø‡∏•‡∏Ø) 
    ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏Å‡∏•‡∏∑‡∏ô‡πÑ‡∏Ç‡πà‡∏ó‡∏µ‡πà‡∏ï‡∏¥‡∏î‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡πÅ‡∏•‡πâ‡∏ß ‡∏ï‡∏±‡∏ß‡∏≠‡πà‡∏≠‡∏ô‡∏à‡∏∞‡∏ü‡∏±‡∏Å‡∏≠‡∏≠‡∏Å‡∏°‡∏≤‡∏≠‡∏≤‡∏®‡∏±‡∏¢‡πÉ‡∏ô‡∏•‡∏≥‡πÑ‡∏™‡πâ‡πÄ‡∏•‡πá‡∏Å ‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡πÄ‡∏ï‡πá‡∏°‡∏ß‡∏±‡∏¢‡∏à‡∏∞‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏•‡∏≥‡πÑ‡∏™‡πâ‡πÉ‡∏´‡∏ç‡πà‡∏™‡πà‡∏ß‡∏ô‡∏ï‡πâ‡∏ô 
    ‡πÅ‡∏•‡∏∞‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ï‡∏¥‡∏î‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏î‡πâ ‡πÇ‡∏î‡∏¢‡∏ï‡∏±‡∏ß‡∏≠‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏ü‡∏±‡∏Å‡πÉ‡∏´‡∏°‡πà‡∏à‡∏≤‡∏Å‡∏ú‡∏¥‡∏ß‡∏´‡∏ô‡∏±‡∏á‡∏ö‡∏£‡∏¥‡πÄ‡∏ß‡∏ì‡∏ó‡∏ß‡∏≤‡∏£‡∏´‡∏ô‡∏±‡∏Å‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡πÉ‡∏ô‡∏ó‡∏ß‡∏≤‡∏£‡∏´‡∏ô‡∏±‡∏Å‡πÑ‡∏î‡πâ
""")

    st.divider()

    st.header("ü©∫ ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏´‡∏≤‡∏û‡∏¢‡∏≤‡∏ò‡∏¥‡πÄ‡∏Ç‡πá‡∏°‡∏´‡∏°‡∏∏‡∏î")
    st.markdown("""
    ‡∏ß‡∏¥‡∏ò‡∏µ‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏û‡∏ó‡∏¢‡πå‡∏ó‡∏µ‡πà‡∏ô‡∏¥‡∏¢‡∏°‡πÉ‡∏ä‡πâ‡πÅ‡∏•‡∏∞‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏Ñ‡∏∑‡∏≠ **Scotch Tape Technique** ‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏û‡∏¢‡∏≤‡∏ò‡∏¥‡πÄ‡∏Ç‡πá‡∏°‡∏´‡∏°‡∏∏‡∏î‡∏°‡∏±‡∏Å‡∏à‡∏∞‡∏ß‡∏≤‡∏á‡πÑ‡∏Ç‡πà‡∏ö‡∏£‡∏¥‡πÄ‡∏ß‡∏ì‡∏£‡∏≠‡∏ö‡∏ó‡∏ß‡∏≤‡∏£‡∏´‡∏ô‡∏±‡∏Å
    """)

    # ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏£‡∏≠‡∏ö‡πÄ‡∏ô‡πâ‡∏ô‡∏¢‡πâ‡∏≥‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏ß‡∏•‡∏≤ (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å)
    st.info("üïí **Tip:** ‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏∑‡∏≠ **'‡∏ï‡∏≠‡∏ô‡πÄ‡∏ä‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏á‡∏ï‡∏∑‡πà‡∏ô‡∏ô‡∏≠‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ'** (‡∏Å‡πà‡∏≠‡∏ô‡∏≠‡∏≤‡∏ö‡∏ô‡πâ‡∏≥‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡∏±‡∏ö‡∏ñ‡πà‡∏≤‡∏¢)")

    st.subheader("‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πá‡∏ö‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á (Scotch Tape Technique)")
    st.image("Scothtapetech.-cut.png")
    # ‡πÅ‡∏ö‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô 3 ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå ‡πÉ‡∏™‡πà Icon ‡πÉ‡∏´‡πâ‡∏î‡∏π‡∏á‡πà‡∏≤‡∏¢
    col1, col2, col3 = st.columns(3)

    with col1:
        st.markdown("### 1. ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå")
        st.markdown("‡πÉ‡∏ä‡πâ‡πÄ‡∏ó‡∏õ‡πÉ‡∏™ (Clear Tape) ‡πÅ‡∏•‡∏∞‡πÅ‡∏ú‡πà‡∏ô‡∏™‡πÑ‡∏•‡∏î‡πå")
    
    with col2:
        st.markdown("### 2. ‡πÅ‡∏õ‡∏∞‡πÄ‡∏ó‡∏õ")
        st.markdown("‡∏Å‡∏î‡∏î‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡∏ß‡∏•‡∏á‡∏ö‡∏ô‡∏ú‡∏¥‡∏ß‡∏´‡∏ô‡∏±‡∏á‡∏£‡∏≠‡∏ö‡πÜ ‡∏ó‡∏ß‡∏≤‡∏£‡∏´‡∏ô‡∏±‡∏Å ‡πÇ‡∏î‡∏¢‡∏ó‡∏≥‡∏ã‡πâ‡∏≥‡πÜ ‡πÉ‡∏´‡πâ‡∏ó‡∏±‡πà‡∏ß‡∏ö‡∏£‡∏¥‡πÄ‡∏ß‡∏ì")

    with col3:
        st.markdown("### 3. ‡∏õ‡∏¥‡∏î‡∏ú‡∏ô‡∏∂‡∏Å")
        st.markdown("‡∏ô‡∏≥‡πÄ‡∏ó‡∏õ‡∏î‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡∏ß‡πÅ‡∏õ‡∏∞‡∏•‡∏á‡∏ö‡∏ô‡πÅ‡∏ú‡πà‡∏ô‡∏™‡πÑ‡∏•‡∏î‡πå‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢ ‡πÅ‡∏•‡∏∞‡∏ô‡∏≥‡πÑ‡∏õ‡∏™‡πà‡∏≠‡∏á‡∏†‡∏≤‡∏¢‡πÉ‡∏ï‡πâ‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏à‡∏∏‡∏•‡∏ó‡∏£‡∏£‡∏®‡∏ô‡πå")
    st.divider()
    
    
    st.header("References")
    st.write("""Centers for Disease Control and Prevention. (2024, June 7). _Schistosomiasis_.
        https://www.cdc.gov/dpdx/schistosomiasis/index.html""")
    st.write("""Eder, T. I. B., Wendt, S., & Lipek, T. (2018). Extraintestinal oxyuriasis. Deutsches √Ñrzteblatt International, 115(18), 326.""")
    st.write("""Pinworms. (2023, September 7). Cleveland Clinic. https://my.clevelandclinic.org/health/diseases/21137-pinworms""")
    st.write("""‡πÄ‡∏õ‡∏£‡∏°‡∏à‡∏¥‡∏ï  ‡πÑ‡∏ß‡∏¢‡∏≤‡∏ß‡∏±‡∏à‡∏°‡∏±‡∏¢. (2553). ‡πÅ‡∏°‡πà‡∏à‡πã‡∏≤...‡∏´‡∏ô‡∏π‡∏Ñ‡∏±‡∏ô‡∏Å‡πâ‡∏ô. Faculty of Medicine Siriraj Hospital. from https://www.si.mahidol.ac.th/th/healthdetail.asp?aid=434""")

    

def content_symptoms():
    st.header("ü§í ‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ï‡∏¥‡∏î‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡∏û‡∏¢‡∏≤‡∏ò‡∏¥‡πÄ‡∏Ç‡πá‡∏°‡∏´‡∏°‡∏∏‡∏î")
    col1, col2 =  st.columns(2)

    with col1:
        st.image("‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏´‡∏•‡∏±‡∏Å‡πÜ.png")
    with col2:
        st.write("""‡∏ú‡∏π‡πâ‡∏ï‡∏¥‡∏î‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡∏™‡πà‡∏ß‡∏ô‡πÉ‡∏´‡∏ç‡πà‡∏°‡∏±‡∏Å‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á‡∏≠‡∏≤‡∏Å‡∏≤‡∏£ ‡πÅ‡∏ï‡πà‡πÉ‡∏ô‡∏ö‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏≠‡∏≤‡∏à‡∏û‡∏ö‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏Ñ‡∏±‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á‡∏ö‡∏£‡∏¥‡πÄ‡∏ß‡∏ì‡∏ó‡∏ß‡∏≤‡∏£‡∏´‡∏ô‡∏±‡∏Å ‡πÇ‡∏î‡∏¢‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏û‡∏ö‡πÉ‡∏ô‡πÑ‡∏î‡πâ‡∏ú‡∏π‡πâ‡∏ï‡∏¥‡∏î‡πÄ‡∏ä‡∏∑‡πâ‡∏≠ ‡πÑ‡∏î‡πâ‡πÅ‡∏Å‡πà""")
        st.markdown("""
    * **‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏Ñ‡∏±‡∏ô** ‡∏ö‡∏£‡∏¥‡πÄ‡∏ß‡∏ì‡∏ó‡∏ß‡∏≤‡∏£‡∏´‡∏ô‡∏±‡∏Å‡∏ö‡πà‡∏≠‡∏¢‡∏°‡∏≤‡∏Å ‡πÇ‡∏î‡∏¢‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÉ‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏∑‡∏ô ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏û‡∏¢‡∏≤‡∏ò‡∏¥‡∏ï‡∏±‡∏ß‡πÄ‡∏ï‡πá‡∏°‡∏ß‡∏±‡∏¢‡πÄ‡∏û‡∏®‡πÄ‡∏°‡∏µ‡∏¢ ‡∏à‡∏∞‡∏≠‡∏≠‡∏Å‡∏°‡∏≤‡∏ß‡∏≤‡∏á‡πÑ‡∏Ç‡πà‡∏ö‡∏£‡∏¥‡πÄ‡∏ß‡∏ì‡∏ó‡∏ß‡∏≤‡∏£‡∏´‡∏ô‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏ï‡∏¥‡∏î‡πÄ‡∏ä‡∏∑‡πâ‡∏≠
    * **‡∏ô‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏ö‡πÑ‡∏°‡πà‡∏™‡∏ô‡∏¥‡∏ó** ‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏°‡∏µ‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏Ñ‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡∏™‡∏ö‡∏≤‡∏¢‡∏ï‡∏±‡∏ß‡∏ï‡∏•‡∏≠‡∏î‡πÄ‡∏ß‡∏•‡∏≤
    * **‡∏£‡∏∞‡∏Ñ‡∏≤‡∏¢‡πÄ‡∏Ñ‡∏∑‡∏≠‡∏á‡∏ú‡∏¥‡∏ß‡∏´‡∏ô‡∏±‡∏á** ‡∏£‡∏≠‡∏ö‡∏ó‡∏ß‡∏≤‡∏£‡∏´‡∏ô‡∏±‡∏Å‡∏°‡∏µ‡∏ú‡∏∑‡πà‡∏ô‡πÅ‡∏î‡∏á ‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏ú‡∏•‡∏ñ‡∏•‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡∏≤""")
    
    st.divider()        
    st.subheader("‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô")
    st.image("‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö.png")
    st.write("""‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ï‡∏¥‡∏î‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡∏û‡∏¢‡∏≤‡∏ò‡∏¥‡πÄ‡∏Ç‡πá‡∏°‡∏´‡∏°‡∏∏‡∏î ‡∏à‡∏∞‡∏™‡πà‡∏á‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏´‡∏•‡∏±‡∏Å‡πÇ‡∏î‡∏¢‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÉ‡∏ô‡πÄ‡∏î‡πá‡∏Å‡∏ß‡∏±‡∏¢‡πÄ‡∏£‡∏µ‡∏¢‡∏ô""")
    st.markdown("""
    * ‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏Ñ‡∏±‡∏ô‡∏™‡πà‡∏á‡∏ú‡∏•‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô‡∏Ç‡∏≠‡∏á‡πÄ‡∏î‡πá‡∏Å‡πÉ‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏∑‡∏ô ‡∏ó‡∏≥‡πÉ‡∏´‡πâ :yellow-background[**‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠**]
    * ‡∏™‡∏°‡∏≤‡∏ò‡∏¥‡∏™‡∏±‡πâ‡∏ô‡∏•‡∏á‡∏™‡πà‡∏á‡∏ú‡∏•‡πÉ‡∏´‡πâ :yellow-background[**‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡πÅ‡∏•‡∏∞‡∏à‡∏î‡∏à‡∏≥‡∏•‡∏î‡∏•‡∏á**] 
    * ‡∏Å‡∏≤‡∏£‡∏î‡∏π‡∏î‡∏ã‡∏∂‡∏°‡∏™‡∏≤‡∏£‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏•‡∏î‡∏•‡∏á ‡∏ô‡∏≥‡πÑ‡∏õ‡∏™‡∏π‡πà :yellow-background[**‡∏†‡∏≤‡∏ß‡∏∞‡∏Ç‡∏≤‡∏î‡∏™‡∏≤‡∏£‡∏≠‡∏≤‡∏´‡∏≤‡∏£ ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏à‡∏£‡∏¥‡∏ç‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï‡∏ä‡πâ‡∏≤‡∏•‡∏á**]
    * ‡∏û‡∏¢‡∏≤‡∏ò‡∏¥‡πÄ‡∏™‡πâ‡∏ô‡∏î‡πâ‡∏≤‡∏¢‡∏≠‡∏≤‡∏à‡πÑ‡∏ä‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏Ñ‡∏•‡∏≠‡∏î ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î‡∏≠‡∏≤‡∏Å‡∏≤‡∏£ :yellow-background[**‡∏ä‡πà‡∏≠‡∏á‡∏Ñ‡∏•‡∏≠‡∏î‡∏´‡∏£‡∏∑‡∏≠‡∏õ‡∏≤‡∏Å‡∏°‡∏î‡∏•‡∏π‡∏Å‡∏≠‡∏±‡∏Å‡πÄ‡∏™‡∏ö**]""")
    


   

def content_prevention():
    st.header("üõ°Ô∏è ‡∏Å‡∏≤‡∏£‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏Å‡∏©‡∏≤")
    st.subheader("‡∏Å‡∏≤‡∏£‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô")
    st.image("‡∏Å‡∏≤‡∏£‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô1.png")
    st.info("‡∏™‡∏∏‡∏Ç‡∏≠‡∏ô‡∏≤‡∏°‡∏±‡∏¢‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏Ñ‡∏∑‡∏≠‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô")
    st.markdown("""
    1. **‡∏•‡πâ‡∏≤‡∏á‡∏°‡∏∑‡∏≠:** ‡∏•‡πâ‡∏≤‡∏á‡∏°‡∏∑‡∏≠‡πÉ‡∏´‡πâ‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏î‡πâ‡∏ß‡∏¢‡∏™‡∏ö‡∏π‡πà‡∏Å‡πà‡∏≠‡∏ô‡∏ó‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡πâ‡∏≠‡∏á‡∏ô‡πâ‡∏≥
    2. **‡∏ï‡∏±‡∏î‡πÄ‡∏•‡πá‡∏ö:** ‡∏ï‡∏±‡∏î‡πÄ‡∏•‡πá‡∏ö‡πÉ‡∏´‡πâ‡∏™‡∏±‡πâ‡∏ô‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏™‡∏°‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏∞‡∏™‡∏°‡∏Ç‡∏≠‡∏á‡πÑ‡∏Ç‡πà‡∏û‡∏¢‡∏≤‡∏ò‡∏¥‡∏ï‡∏≤‡∏°‡∏ã‡∏≠‡∏Å‡πÄ‡∏•‡πá‡∏ö
    3. **‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î:** ‡∏ã‡∏±‡∏Å‡∏ú‡πâ‡∏≤‡∏õ‡∏π‡∏ó‡∏µ‡πà‡∏ô‡∏≠‡∏ô ‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤ ‡∏ä‡∏∏‡∏î‡∏ô‡∏≠‡∏ô ‡∏î‡πâ‡∏ß‡∏¢‡∏ô‡πâ‡∏≥‡∏£‡πâ‡∏≠‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ü‡πà‡∏≤‡πÑ‡∏Ç‡πà‡∏û‡∏¢‡∏≤‡∏ò‡∏¥
    """)

    st.subheader("‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏Å‡∏©‡∏≤")
    st.image("Gemini_Generated_Image_aa6rxlaa6rxlaa6r.png")
    st.markdown("""‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏£‡∏±‡∏Å‡∏©‡∏≤‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏≤‡∏ô **‡∏¢‡∏≤‡∏ñ‡πà‡∏≤‡∏¢‡∏û‡∏¢‡∏≤‡∏ò‡∏¥** ‡∏ã‡∏∂‡πà‡∏á‡πÑ‡∏î‡πâ‡πÅ‡∏Å‡πà""")
    st.markdown("""
    * Mebendazole 100 ‡∏°‡∏Å.
    * Albendazole 400 ‡∏°‡∏Å.""")
    st.write("""‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡πÉ‡∏´‡πâ‡∏¢‡∏≤‡∏ã‡πâ‡∏≥‡∏≠‡∏µ‡∏Å‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 2 ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡∏ã‡πâ‡∏≥ 
    ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏¢‡∏≤‡∏ñ‡πà‡∏≤‡∏¢‡∏û‡∏¢‡∏≤‡∏ò‡∏¥‡∏ä‡∏ô‡∏¥‡∏î‡∏ô‡∏µ‡πâ‡∏Ñ‡∏ß‡∏£‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡πÉ‡∏ô‡∏´‡∏ç‡∏¥‡∏á‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡∏£‡∏£‡∏†‡πå ‡∏´‡∏ç‡∏¥‡∏á‡πÉ‡∏´‡πâ‡∏ô‡∏°‡∏ö‡∏∏‡∏ï‡∏£ ‡πÅ‡∏•‡∏∞‡πÉ‡∏ô‡πÄ‡∏î‡πá‡∏Å‡∏≠‡∏≤‡∏¢‡∏∏‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ 2 ‡∏õ‡∏µ""")

# ==========================================
# ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 3: ‡∏™‡∏£‡πâ‡∏≤‡∏á Wrapper Functions ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÜ
# ==========================================

# üü¢ ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏´‡∏ô‡πâ‡∏≤ Knowledge (‡∏£‡∏ß‡∏° Tab)
def page_knowledge_hub():
    st.title("üìö ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏û‡∏¢‡∏≤‡∏ò‡∏¥‡πÄ‡∏Ç‡πá‡∏°‡∏´‡∏°‡∏∏‡∏î")
    
    # ‡∏™‡∏£‡πâ‡∏≤‡∏á Tab 3 ‡∏≠‡∏±‡∏ô
    tab1, tab2, tab3 = st.tabs(["‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£", "‡∏Å‡∏≤‡∏£‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏Å‡∏©‡∏≤"])
    
    with tab1:
        content_general_info()
    with tab2:
        content_symptoms()
    with tab3:
        content_prevention()

# üü¢ ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏´‡∏ô‡πâ‡∏≤ AI Detection


def page_ai_detect():
    # ... (‡∏™‡πà‡∏ß‡∏ô‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡πÅ‡∏•‡∏∞ upload file) ...
    
    if uploaded_file is not None:
        try:
            # ... (‡∏™‡πà‡∏ß‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏†‡∏≤‡∏û) ...

            col1, col2 = st.columns(2)
            with col1:
                st.subheader("‡∏†‡∏≤‡∏û‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö")
                st.image(image_np, caption=uploaded_file.name, use_column_width=True)

            if model is not None:
                with st.spinner('‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏†‡∏≤‡∏û‡∏î‡πâ‡∏ß‡∏¢ AI...'):
                    # ‡∏™‡πà‡∏ß‡∏ô‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•
                    output_img_bgr = ObjectDet(image_bgr, detection_threshold, nms_threshold, merge_iou_threshold)
                
                # ‡πÅ‡∏õ‡∏•‡∏á‡∏™‡∏µ‡∏†‡∏≤‡∏û‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå
                output_img_rgb = cv2.cvtColor(output_img_bgr, cv2.COLOR_BGR2RGB)
                
                # ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÉ‡∏ô‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏Ç‡∏ß‡∏≤
                with col2:
                    st.subheader("‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå")
                    st.image(output_img_rgb, caption="AI Result", use_column_width=True)
                
                # --- ‡∏à‡∏∏‡∏î‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç: ‡∏ï‡πâ‡∏≠‡∏á‡∏¢‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ with col2 (‡πÅ‡∏ï‡πà‡∏≠‡∏¢‡πà‡∏≤‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô with) ---
                st.write("") # ‡πÄ‡∏ß‡πâ‡∏ô‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ô‡∏¥‡∏î‡∏ô‡∏∂‡∏á
                st.success("‚úÖ ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô") 

                # ------------------------------------------------------------------

            else:
                st.warning("Model not loaded (ev_cnn_mobile.keras not found).")


def show_card(file_name, title, key_id):
    # ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏£‡∏≠‡∏ö‡∏™‡∏ß‡∏¢‡πÜ ‡∏•‡πâ‡∏≠‡∏°‡∏£‡∏≠‡∏ö
    with st.container(border=True):
        # ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û
        st.image(file_name, use_column_width=True)
        
        # ‡∏ä‡∏∑‡πà‡∏≠‡∏£‡∏π‡∏õ (‡∏à‡∏±‡∏î‡∏Å‡∏∂‡πà‡∏á‡∏Å‡∏•‡∏≤‡∏á + ‡∏ï‡∏±‡∏ß‡∏´‡∏ô‡∏≤)
        st.markdown(f"<p style='text-align: center; font-weight: bold; margin-bottom: 5px;'>{title}</p>", unsafe_allow_html=True)
        
        # ‡∏õ‡∏∏‡πà‡∏°‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î (‡∏™‡∏µ‡∏™‡∏ß‡∏¢ + ‡πÄ‡∏ï‡πá‡∏°‡∏Ç‡∏≠‡∏ö)
        with open(file_name, "rb") as f:
            st.download_button(
                label="üì• ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏ô‡∏µ‡πâ",
                data=f,
                file_name=file_name,
                mime="image/jpeg",
                key=f"dl_{key_id}",       # key ‡∏´‡πâ‡∏≤‡∏°‡∏ã‡πâ‡∏≥
                use_container_width=True, # üëâ ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏õ‡∏∏‡πà‡∏°‡∏¢‡∏≤‡∏ß‡πÄ‡∏ï‡πá‡∏°‡∏Å‡∏£‡∏≠‡∏ö
                type="primary"            # üëâ ‡∏õ‡∏∏‡πà‡∏°‡∏™‡∏µ‡πÅ‡∏î‡∏á/‡∏ä‡∏°‡∏û‡∏π (‡∏™‡∏µ‡∏ò‡∏µ‡∏°‡∏´‡∏•‡∏±‡∏Å) ‡πÄ‡∏î‡πà‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô
            )
# üü¢ ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏´‡∏ô‡πâ‡∏≤ Dataset
def page_dataset():
    st.header("üìä Dataset Information")
    st.markdown("‡∏£‡∏ß‡∏°‡∏†‡∏≤‡∏û‡∏ñ‡πà‡∏≤‡∏¢‡πÑ‡∏Ç‡πà‡∏û‡∏¢‡∏≤‡∏ò‡∏¥‡πÄ‡∏Ç‡πá‡∏°‡∏´‡∏°‡∏∏‡∏î‡∏à‡∏≤‡∏Å‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏à‡∏∏‡∏•‡∏ó‡∏£‡∏£‡∏®‡∏ô‡πå ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏î‡∏•‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ")
    st.divider()

    # --- ‡πÅ‡∏ñ‡∏ß‡∏ó‡∏µ‡πà 1 ---
    # ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå 4 ‡∏ä‡πà‡∏≠‡∏á
    col1, col2, col3, col4 = st.columns(4)

    # --- ‡πÅ‡∏ñ‡∏ß‡∏ó‡∏µ‡πà 1 (‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏à‡∏ö!) ---
    with col1:
        show_card("pinworm_11.jpg", "‡πÑ‡∏Ç‡πà‡∏û‡∏¢‡∏≤‡∏ò‡∏¥ 01", 1)

    with col2:
        show_card("pinworm_12.jpg", "‡πÑ‡∏Ç‡πà‡∏û‡∏¢‡∏≤‡∏ò‡∏¥ 02", 2)

    with col3:
        show_card("pinworm_03.jpg", "‡πÑ‡∏Ç‡πà‡∏û‡∏¢‡∏≤‡∏ò‡∏¥ 03", 3)

    with col4:
        show_card("pinworm_04.jpg", "‡πÑ‡∏Ç‡πà‡∏û‡∏¢‡∏≤‡∏ò‡∏¥ 04", 4)

    col5, col6, col7, col8 = st.columns(4)

    # --- ‡πÅ‡∏ñ‡∏ß‡∏ó‡∏µ‡πà 1 (‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏à‡∏ö!) ---
    with col5:
        show_card("pinworm_05.jpg", "‡πÑ‡∏Ç‡πà‡∏û‡∏¢‡∏≤‡∏ò‡∏¥ 05", 5)

    with col6:
        show_card("pinworm_06.jpg", "‡πÑ‡∏Ç‡πà‡∏û‡∏¢‡∏≤‡∏ò‡∏¥ 06", 6)

    with col7:
        show_card("pinworm_07.jpg", "‡πÑ‡∏Ç‡πà‡∏û‡∏¢‡∏≤‡∏ò‡∏¥ 07", 7)

    with col8:
        show_card("pinworm_08.jpg", "‡πÑ‡∏Ç‡πà‡∏û‡∏¢‡∏≤‡∏ò‡∏¥ 08", 8)

    col9, col10, col11, col12 = st.columns(4)

    # --- ‡πÅ‡∏ñ‡∏ß‡∏ó‡∏µ‡πà 1 (‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏à‡∏ö!) ---
    with col9:
        show_card("pinworm_09.jpg", "‡πÑ‡∏Ç‡πà‡∏û‡∏¢‡∏≤‡∏ò‡∏¥ 09", 9)

    with col10:
        show_card("pinworm_10.jpg", "‡πÑ‡∏Ç‡πà‡∏û‡∏¢‡∏≤‡∏ò‡∏¥ 10", 10)

    with col11:
        show_card("pinworm_01.jpg", "‡πÑ‡∏Ç‡πà‡∏û‡∏¢‡∏≤‡∏ò‡∏¥ 11", 11)

    with col12:
        show_card("pinworm_02.jpg", "‡πÑ‡∏Ç‡πà‡∏û‡∏¢‡∏≤‡∏ò‡∏¥ 12", 12)   

    col13, col14, col15, col16 = st.columns(4)

    # --- ‡πÅ‡∏ñ‡∏ß‡∏ó‡∏µ‡πà 1 (‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏à‡∏ö!) ---
    with col13:
        show_card("pinworm_19.jpg", "‡πÑ‡∏Ç‡πà‡∏û‡∏¢‡∏≤‡∏ò‡∏¥ 13", 13)

    with col14:
        show_card("pinworm_14.jpg", "‡πÑ‡∏Ç‡πà‡∏û‡∏¢‡∏≤‡∏ò‡∏¥ 14", 14)

    with col15:
        show_card("pinworm_20.jpg", "‡πÑ‡∏Ç‡πà‡∏û‡∏¢‡∏≤‡∏ò‡∏¥ 15", 15)

    with col16:
        show_card("pinworm_16.jpg", "‡πÑ‡∏Ç‡πà‡∏û‡∏¢‡∏≤‡∏ò‡∏¥ 16", 16) 

    col17, col18, col19, col20 = st.columns(4)
    
    with col17:
        show_card("pinworm_17.jpg", "‡πÑ‡∏Ç‡πà‡∏û‡∏¢‡∏≤‡∏ò‡∏¥ 17", 17)

    with col18:
        show_card("pinworm_18.jpg", "‡πÑ‡∏Ç‡πà‡∏û‡∏¢‡∏≤‡∏ò‡∏¥ 18", 18)

    with col19:
        show_card("pinworm_13.jpg", "‡πÑ‡∏Ç‡πà‡∏û‡∏¢‡∏≤‡∏ò‡∏¥ 19", 19)

    with col20:
        show_card("pinworm_15.jpg", "‡πÑ‡∏Ç‡πà‡∏û‡∏¢‡∏≤‡∏ò‡∏¥ 20", 20)
 
    
    # st.divider() # ‡∏ñ‡πâ‡∏≤‡∏à‡∏∞‡∏Ç‡∏∂‡πâ‡∏ô‡πÅ‡∏ñ‡∏ß 2 ‡∏Å‡πá‡∏ó‡∏≥‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°‡∏Ñ‡∏£‡∏±‡∏ö

# ==========================================
# ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 4: ‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏≥‡∏ó‡∏≤‡∏á (Navigation)
# ==========================================

# 1. ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏´‡∏ô‡πâ‡∏≤ (Pages)
# - ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å
p_home = st.Page(page_home, title="‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å", icon="üè†")

# - ‡∏´‡∏ô‡πâ‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ
p_knowledge = st.Page(page_knowledge_hub, title="‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÇ‡∏£‡∏Ñ", icon="üìö")

# - ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠
p_tool_ai = st.Page(page_ai_detect, title="AI Detection", icon="üîé")
p_tool_data = st.Page(page_dataset, title="Dataset", icon="üìä")
                      
# 2. ‡∏à‡∏±‡∏î‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏´‡∏ô‡πâ‡∏≤‡∏•‡∏á‡πÉ‡∏ô‡πÄ‡∏°‡∏ô‡∏π Sidebar
pg = st.navigation({
    "‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å": [p_home],
    "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÇ‡∏£‡∏Ñ‡∏û‡∏¢‡∏≤‡∏ò‡∏¥‡πÄ‡∏Ç‡πá‡∏°‡∏´‡∏°‡∏∏‡∏î": [p_knowledge],
    "‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•": [p_tool_ai, p_tool_data]
})

# 3. ‡∏£‡∏±‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏≥‡∏ó‡∏≤‡∏á
pg.run()

